# Угадай мелодию — локальный сервер и клиент

Мини‑приложение для игры в "Угадай мелодию" по локальной сети: ведущий шарит дэшборд (например, на проекторе), от команды подключается по одному человеку через лёгкий клиент с кнопкой и статистикой. Реализован базовый набор фич для фиксации нажатий, таймеров, подсчёта очков. Хостинг не требуется, ведущий запускает сервер на локальной машине, остальные подключаются к ней через общий вайфай.

## Быстрый запуск

1. Откройте терминал и перейдите в папку, куда вы положили проект.

```bash
cd "/path/to/project"
```

2. Установите зависимости:

```bash
npm install
```

3. Запустите сервер:

```bash
npm start
```

4. Браузер должен автоматически открыть дэшборд ведущего по адресу:

`http://<IP-вашего-компьютера>:3000/host.html`

Если не открылся — откройте ссылку вручную.

## Как провести игру

1. В шапке дэшборда ведущего есть ссылка для игроков и QR.  
   Отправьте ссылку в чат ИЛИ попросите всех сфотографировать QR.
2. По одному человеку от команды заходит по ссылке / QR и вводит название команды.  
   Проверьте подключение в блоке «Команды» в левом нижнем углу дэшборда ведущего.
3. Вы громко предупреждаете всех о начале прослушивания, запускаете песню и нажимаете "Новый раунд" - это активирует возможность нажимать на кнопки.
   Одна песня = один раунд. Число раундов не ограничено.
4. Как только кто‑то нажимает кнопку, звучит сигнал. Останавливайте музыку, давайте слово команде.
5. Слушайте ответ и отмечайте результат: «Всё», «Исполнитель», «Название» или «Неправильно».
   В первом случае раунд завершается. В остальных случаях продолжается, а команда получает блок на нажатие кнопки на время, заданное на дэшборде.
6. Если ответ не «Всё», продолжайте песню СРАЗУ ПОСЛЕ выдачи вердикта и ждите следующего нажатия.
7. Если ответ «Всё» или команды последовательно называют Исполнителя и Название, раунд заканчивается — готовьтесь одновременно нажать «Новый раунд» и запустить следующий трек.

## Логика и фичи

- Ведущий задает время ответа и блокировки после неправильного / неполного ответа (настройки сохраняются автоматически при изменении).
- Первый нажавший получает таймер ответа (по умолчанию 5 сек).
- Кнопки результата:
  - «Всё»: +2 очка, раунд сразу завершен.
  - «Исполнитель» или «Название»: +1 очко, раунд продолжается до второй части.
  - «Неправильно»: очков нет.
- Частичный ответ блокирует команду на время блокировки (по умолчанию 10 сек), остальные могут нажимать дальше.
- После «Исполнитель» больше нельзя отметить «Исполнитель» или «Всё»; после «Название» — «Название» или «Всё».
- При наличии обеих частей (неважно, одной или двумя командами) раунд автоматически завершается.
- В дэшборде видны:
  - Лидерборд с общими очками и раздельными за «Исполнителя» и «Название».
  - Полные взятия песен, минимум и среднее время до любого правильного ответа, промахи.
  - Лог нажатий с временем от старта раунда.
- У игроков на телефоне:
  - Большая кнопка, меняющая состояние («ГОВОРИТЕ», «БЛОК»).
  - Очки и статистика команды.
  - Таймер ответа показывается только отвечающей команде.
- Можно вручную завершить раунд («Завершить раунд») или полностью очистить игру («Сбросить игру»).
- Команды можно удалять; удаленная команда может заново подключиться с тем же телефоном.
